<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thefacebook</title>
    <!-- Standard Favicon -->
    <link rel="icon" type="image/png" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16.png">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2b6cb0">
    <!-- iOS Support -->
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <meta name="apple-mobile-web-app-status-bar" content="#2b6cb0">
    <!-- Add Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles to fix specific issues */
        .modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
        .modal.active { opacity: 1; visibility: visible; }
        .custom-file-upload { cursor: pointer; padding: 6px 12px; background-color: rgba(255, 255, 255, 0.1); border-radius: 4px; transition: background-color 0.2s; }
        .custom-file-upload:hover { background-color: rgba(255, 255, 255, 0.2); }
        .custom-file-upload input[type="file"] { display: none; }
        .profile-pic { width: 100px; height: 100px; background-color: #4a5568; display: flex; align-items: center; justify-content: center; font-size: 48px; border-radius: 0.375rem; }
        .media-preview { max-width: 100%; max-height: 300px; }
        .status-update { background-color: #2d3748; color: white; border: 1px solid #4a5568; }
        .bg-transparent:focus { background-color: rgba(255, 255, 255, 0.05); }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">
    <!-- Main Content -->
    <main class="container mx-auto mt-6 px-4 flex flex-col md:flex-row flex-grow">
        <!-- Left Sidebar - Just Profile -->
        <div class="w-full md:w-1/4 mb-6 md:mb-0 md:pr-4">
            <div class="bg-gray-800 rounded-lg shadow-md p-4 mb-4 sticky top-4">
                <div class="flex flex-col items-center space-y-4">
                    <div id="profile-pic-display" class="profile-pic"><span id="profile-avatar">ðŸ‘¤</span></div>
                    <div class="text-center w-full">
                        <input type="text" id="username-display" class="font-bold text-lg bg-transparent text-center w-full focus:outline-none focus:border-blue-500 focus:bg-gray-700 px-2 py-1 rounded" value="Your Name" />
                    </div>
                    <button id="edit-profile-btn" class="text-sm text-blue-400 hover:text-blue-300">Edit Profile</button>
                    <div class="flex space-x-2 w-full justify-center">
                        <button id="export-btn" class="text-sm text-green-400 hover:text-green-300 px-3 py-1 bg-gray-700 rounded">Export Data</button>
                        <button id="import-btn" class="text-sm text-purple-400 hover:text-purple-300 px-3 py-1 bg-gray-700 rounded">Import Data</button>
                        <label class="custom-file-upload text-sm text-yellow-400 hover:text-yellow-300 px-3 py-1 bg-gray-700 rounded cursor-pointer">
                            <input type="file" id="json-file-import" accept=".json">
                            Import File
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main Feed -->
        <div class="w-full md:w-3/4 mb-6 md:mb-0 md:px-4">
            <div class="bg-gray-800 rounded-lg shadow-md p-4 mb-4">
                <textarea id="status-input" class="status-update w-full rounded-md p-2 mb-2" rows="3" placeholder="What's on your mind?"></textarea>
                <div id="media-preview-container" class="mb-3 hidden">
                    <div class="relative">
                        <img id="image-preview" class="media-preview rounded-md mx-auto hidden" src="" alt="Preview">
                        <video id="video-preview" class="media-preview rounded-md mx-auto hidden" controls></video>
                        <button id="remove-media-btn" class="absolute top-2 right-2 bg-gray-800 bg-opacity-70 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-700">Ã—</button>
                    </div>
                </div>
                <div class="flex justify-between items-center">
                    <div class="flex space-x-3">
                        <label class="custom-file-upload"><input type="file" id="image-upload" accept="image/*"><span class="flex items-center"><span class="mr-1">ðŸ“·</span> Photo</span></label>
                        <label class="custom-file-upload"><input type="file" id="video-upload" accept="video/*"><span class="flex items-center"><span class="mr-1">ðŸŽ¬</span> Video</span></label>
                    </div>
                    <button id="post-btn" class="bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 disabled:opacity-50" disabled>Post</button>
                </div>
            </div>
            <div id="posts-container"></div>
        </div>
    </main>
    <!-- Footer -->
    <footer class="bg-gray-800 py-4 border-t border-gray-700">
        <div class="container mx-auto px-4 text-center text-sm text-gray-400">
            <p>thefacebook Â© 2025</p>
        </div>
    </footer>
    <!-- Modals y scripts ya existentes... -->
    <!-- (Se omiten para brevedad, mantener todo el contenido original entre aquÃ­) --><!-- Scripts principales -->
<script>
    // ... todo el cÃ³digo JS que ya existÃ­a, sin modificaciones, hasta la secciÃ³n de Confirm import
</script>
<!-- Import file script -->
<script>
document.getElementById('json-file-import').addEventListener('change', function(event) {
  const file = event.target.files[0]; if (!file) return;
  const reader = new FileReader();
  reader.onload = function(e) {
    try {
      const parsedData = JSON.parse(e.target.result);
      if (parsedData.userProfile && parsedData.posts) {
        userProfile = parsedData.userProfile;
        posts = parsedData.posts;
        updateProfileDisplay(); renderPosts(); saveData();
        alert("Datos importados correctamente desde archivo.");
      } else {
        alert("Formato de archivo no vÃ¡lido. AsegÃºrate de que contenga 'userProfile' y 'posts'.");
      }
    } catch (err) {
      alert("Error al leer el archivo: " + err.message);
    }
  };
  reader.readAsText(file);
});
</script>

</body>
</html>
